<head>
  <title>BPM-Application</title>
</head>

<body>
  <h1>BPM-Application</h1>

  {{> hello}}
</body>

<template name="hello">
  <button class="refresh">Refresh task list</button>
  <p>You have {{#if taskList.total}}{{taskList.total}}{{else}}no{{/if}} tasks available (as of {{lastUpdate}}).</p>

    {{#if taskList.total}}
        Page: {{currentPage}}
        <ul>
        {{#each taskList.data}}
            <li>{{id}}, {{name}}, {{assignee}}
                <a class="claim" data-taskid="{{id}}" href="#{{id}}">claim</a>
            </li>
        {{/each}}
        </ul>
        Vai a pagina {{#each pages}}<a class="page" data-page="{{this}}" href="#page{{this}}">[ {{this}} ]</a> {{/each}}
    {{/if}}
    {{#if formData}}
    <p>
        <h2>Form for task {{formData.taskId}}</h2>
        {{#if formData.error}}
            <h3>Error</h3>
            <blockquote>{{formData.error}}</blockquote>
        {{else}}
            <form>
                The form has {{formData.formProperties.length}} properties:
                <ul>
                {{#each formData.formProperties}}
                    <li>{{name}}&nbsp;
                        <input class="formData" type="text" id="formData_{{id}}" data-property-id="{{id}}" value="{{value}}"/>
                    </li>
                {{/each}}
                </ul>
                <button class="unselect">Hide</button> <button class="complete">Complete</button>
            </form>
        {{/if}}
    </p>
    {{/if}}
</template>
